FAIL src/__tests__/integration/trip.test.ts
  Trip API Integration
    POST /api/trips
      ÔêÜ should create a trip successfully (63 ms)
      ÔêÜ should reject invalid payload via validation middleware (14 ms)
    POST /api/trips/:id/dispatch
      ÔêÜ should dispatch trip successfully (14 ms)
      ÔêÜ should block unauthorized access (7 ms)
    POST /api/trips/:id/complete
      ├ù should complete trip and apply odometer successfully (14 ms)

  ÔùÅ Trip API Integration ÔÇ║ POST /api/trips/:id/complete ÔÇ║ should complete trip and apply odometer successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: undefined

      88 |
      89 |             expect(res.status).toBe(200);
    > 90 |             expect(res.body.distanceKm).toBe(200);
         |                                         ^
      91 |             expect(TripService.completeTrip).toHaveBeenCalledWith('t1', 200);
      92 |         });
      93 |     });

      at Object.<anonymous> (src/__tests__/integration/trip.test.ts:90:41)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 4 passed, 5 total
Snapshots:   0 total
Time:        4.829 s, estimated 16 s
Ran all test suites matching src/__tests__/integration/trip.test.ts.
